(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7818:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,9345)),Promise.resolve().then(r.bind(r,1205)),Promise.resolve().then(r.bind(r,7307))},7396:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4839),a=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},9345:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(5155),a=r(7396),n=r(6046),i=r(7307);function l(){let e=(0,n.usePathname)(),{user:t}=(0,i.J)();return(0,s.jsx)("nav",{className:"bg-gray-800 border-b border-gray-700",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsx)(a.default,{href:"/",className:"text-xl font-bold text-white",children:"EmpowerLove.ai"}),(0,s.jsx)("div",{className:"hidden md:flex space-x-4",children:[{href:"/",label:"首页"},{href:"/assets",label:"资产总览"},{href:"/training",label:"训练计划"},{href:"/community",label:"社区"}].map(t=>(0,s.jsx)(a.default,{href:t.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(e===t.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:t.label},t.href))})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-gray-300 text-sm",children:t.name||t.email.split("@")[0]}),(0,s.jsx)(a.default,{href:"/profile",className:"text-gray-300 hover:text-white p-2",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}):(0,s.jsx)(a.default,{href:"/login",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"登录"})})]})})})}},1205:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(5155);function a(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:t})}},7307:(e,t,r)=>{"use strict";r.d(t,{J:()=>o,UserProvider:()=>l});var s=r(5155),a=r(2115),n=r(6046);let i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0),c=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&l(JSON.parse(e)),u(!1)},[]);let d=async(e,t)=>{try{let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=await r.json();if(r.ok&&s.user)return l(s.user),localStorage.setItem("user",JSON.stringify(s.user)),!0;return!1}catch(e){return console.error("Login error:",e),!1}};return(0,s.jsx)(i.Provider,{value:{user:r,login:d,logout:()=>{l(null),localStorage.removeItem("user"),c.push("/login")},isLoading:o},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[690,839,441,517,358],()=>t(7818)),_N_E=e.O()}]);