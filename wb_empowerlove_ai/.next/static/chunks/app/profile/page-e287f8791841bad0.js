(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{8968:(e,s,l)=>{Promise.resolve().then(l.bind(l,2303))},6046:(e,s,l)=>{"use strict";var t=l(6658);l.o(t,"useParams")&&l.d(s,{useParams:function(){return t.useParams}}),l.o(t,"usePathname")&&l.d(s,{usePathname:function(){return t.usePathname}}),l.o(t,"useRouter")&&l.d(s,{useRouter:function(){return t.useRouter}})},2303:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>c});var t=l(5155),a=l(2115),r=l(7307),i=l(6046);function c(){let{user:e,logout:s}=(0,r.J)(),l=(0,i.useRouter)(),[c,n]=(0,a.useState)("overview");if((0,a.useEffect)(()=>{e||l.push("/login")},[e,l]),!e)return(0,t.jsx)("div",{children:"加载中..."});let d={name:e.name||e.email.split("@")[0],email:e.email,joinDate:new Date().toLocaleDateString("zh-CN"),level:12,points:3580,achievements:28,trainings:45};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 mb-8",children:(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-3xl font-bold text-white",children:d.name[0].toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:d.name}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:d.email}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-400",children:["加入时间：",d.joinDate]}),(0,t.jsxs)("span",{className:"text-yellow-500",children:["等级 ",d.level]}),(0,t.jsxs)("span",{className:"text-blue-500",children:[d.points," 积分"]})]})]}),(0,t.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"编辑资料"})]})}),(0,t.jsx)("div",{className:"flex space-x-1 mb-6 bg-gray-800 rounded-lg p-1",children:[{id:"overview",label:"总览"},{id:"achievements",label:"成就"},{id:"settings",label:"设置"}].map(e=>(0,t.jsx)("button",{onClick:()=>n(e.id),className:"flex-1 py-2 px-4 rounded-md transition-colors ".concat(c===e.id?"bg-gray-700 text-white":"text-gray-400 hover:text-white"),children:e.label},e.id))}),"overview"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"总学习时长",value:"156小时",icon:"⏱"},{label:"完成任务",value:"234个",icon:"✅"},{label:"连续打卡",value:"45天",icon:"\uD83D\uDCC5"},{label:"获得徽章",value:"28个",icon:"\uD83C\uDFC6"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,t.jsx)("div",{className:"text-2xl font-bold mb-1",children:e.value}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:e.label})]},s))}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"资产分布图"}),(0,t.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative w-48 h-48",children:[(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-gray-700 rounded-full"}),(0,t.jsx)("div",{className:"absolute inset-4 border-2 border-gray-700 rounded-full"}),(0,t.jsx)("div",{className:"absolute inset-8 border-2 border-gray-700 rounded-full"}),(0,t.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCAA"}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"75"})]}),(0,t.jsxs)("div",{className:"absolute right-0 top-1/2 transform translate-x-2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83E\uDDE0"}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"82"})]}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-2",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83E\uDD1D"}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"68"})]}),(0,t.jsxs)("div",{className:"absolute left-0 top-1/2 transform -translate-x-2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCB0"}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"90"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"最近活动"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:"✓"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:'完成"晨间运动计划"第15天'}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"2小时前"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:"\uD83C\uDFC6"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:'获得成就"社交达人"'}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"昨天"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:"\uD83D\uDCDA"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:'开始学习"投资策略进阶"'}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"3天前"})]})]})]})]})]}),"achievements"===c&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[[{id:1,title:"初学者",description:"完成第一个训练计划",icon:"\uD83C\uDFAF",date:"2024-01-20"},{id:2,title:"坚持不懈",description:"连续7天完成训练",icon:"\uD83D\uDD25",date:"2024-02-05"},{id:3,title:"全面发展",description:"四大资产均达到60分",icon:"⭐",date:"2024-03-10"},{id:4,title:"社交达人",description:"社交资产突破80分",icon:"\uD83E\uDD1D",date:"2024-04-15"}].map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center hover:bg-gray-700 transition-colors",children:[(0,t.jsx)("div",{className:"text-5xl mb-4",children:e.icon}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["获得于 ",e.date]})]},e.id)),[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center opacity-50",children:[(0,t.jsx)("div",{className:"text-5xl mb-4 filter grayscale",children:"\uD83D\uDD12"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"未解锁"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"继续努力解锁更多成就"})]},"locked-".concat(e)))]}),"settings"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"个人设置"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"用户名"}),(0,t.jsx)("input",{type:"text",defaultValue:d.name,className:"w-full bg-gray-700 text-white rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"邮箱"}),(0,t.jsx)("input",{type:"email",defaultValue:d.email,disabled:!0,className:"w-full bg-gray-700 text-gray-400 rounded-md px-4 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"密码"}),(0,t.jsx)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"修改密码"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"通知设置"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),(0,t.jsx)("span",{children:"训练提醒"})]}),(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),(0,t.jsx)("span",{children:"成就通知"})]}),(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,t.jsx)("span",{children:"营销邮件"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"账户操作"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{onClick:()=>{s()},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"退出登录"}),(0,t.jsx)("button",{className:"text-red-500 hover:text-red-400 transition-colors",children:"删除账户"})]})]})]})]})}},7307:(e,s,l)=>{"use strict";l.d(s,{J:()=>n,UserProvider:()=>c});var t=l(5155),a=l(2115),r=l(6046);let i=(0,a.createContext)(void 0);function c(e){let{children:s}=e,[l,c]=(0,a.useState)(null),[n,d]=(0,a.useState)(!0),x=(0,r.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&c(JSON.parse(e)),d(!1)},[]);let o=async(e,s)=>{try{let l=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),t=await l.json();if(l.ok&&t.user)return c(t.user),localStorage.setItem("user",JSON.stringify(t.user)),!0;return!1}catch(e){return console.error("Login error:",e),!1}};return(0,t.jsx)(i.Provider,{value:{user:l,login:o,logout:()=>{c(null),localStorage.removeItem("user"),x.push("/login")},isLoading:n},children:s})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(8968)),_N_E=e.O()}]);